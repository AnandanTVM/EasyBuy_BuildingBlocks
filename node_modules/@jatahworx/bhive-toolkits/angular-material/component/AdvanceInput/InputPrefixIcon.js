"use strict";
let AdvancedComponent = require("../../../core/AdvancedComponent");
let Attribute = require('../../../core/Attributes');

module.exports = class InputPrefixIcon extends AdvancedComponent {
    constructor() {
        const name = "ng-input-prefix-icon";
        const designerTemplate = '<ng-input-prefix-icon></ng-input-prefix-icon>';
        const paletteTemplate = 'Input Prefix Icon';
        const componentLabel = 'Input Prefix Icon';
        super({
            name,
            designerTemplate,
            paletteTemplate,
            componentLabel,
            isAdvancedChild: true,
            templateUrl: "articles/#!components-guide-7/input"
        });
        super.addAttribute(new Attribute({
            key: 'Prefix Icon',
            value: '',
            type: 'a',
            visible: false,
            isVisibleForParent: true
        }));
        super.addAttribute(new Attribute({
            key: '(prefixIconClick)',
            value: '',
            type: 'a',
            visible: false,
            isVisibleForParent: true
        }));
        super.composeTemplate();

    }

    get template() {
        let returnTemplate = '';
        let componentHtmlAtrributes = this.getHtmlAttributes(this.htmlAttributes);
        
        if (componentHtmlAtrributes['Prefix Icon']._value.trim() != "" && componentHtmlAtrributes['(prefixIconClick)']._value == "") {
            returnTemplate = `<mat-icon matPrefix>${componentHtmlAtrributes['Prefix Icon']._value}</mat-icon>`;
        } else if (componentHtmlAtrributes['Prefix Icon']._value.trim() != "" && componentHtmlAtrributes['(prefixIconClick)']._value.trim() != "") {
            returnTemplate = `<mat-icon matPrefix (click)="${componentHtmlAtrributes['(prefixIconClick)']._value}">%Prefix Icon%</mat-icon>`
        }
        return returnTemplate;
    }

    set template(t) {}
};